## Context
TravelBlindBox当前完全依赖AI生成旅行数据，缺乏真实世界的验证。虽然能生成个性化路线，但数据准确性和实用性有待提升。用户反馈显示，垂直滚动浏览多条路线不够便捷。高德地图作为国内领先的地图服务商，提供丰富的POI数据，可以显著提升内容的权威性和实用性。

## Goals / Non-Goals
### Goals
- 集成高德MCP获取真实旅行数据，提升内容准确性
- 优化UI为tab切换，提升路线对比体验
- 保持AI个性化推荐能力，结合真实数据增强
- 确保移动端和桌面端都有良好体验

### Non-Goals
- 不改变现有的AI生成逻辑框架
- 不集成其他地图服务商
- 不添加离线地图功能

## Decisions
### 架构决策
- 使用MCP协议集成高德地图服务，保持架构一致性
- 在前端进行数据融合，AI生成内容+高德真实数据
- 采用渐进式集成，先POI搜索，后续可扩展路径规划等

### UI决策
- 顶层tab展示3条路线，每条路线独立完整显示
- 保持现有的每日行程tab，但移到路线内部
- 响应式设计，确保移动端tab可用性

### 数据决策
- 扩展现有数据结构，支持高德数据字段
- 实现数据缓存，避免重复API调用
- 错误降级：高德数据获取失败时回退到AI生成

## Risks / Trade-offs
### 风险
- 高德API调用可能失败，影响用户体验
- 数据融合逻辑复杂，可能引入bug
- MCP服务稳定性依赖外部服务

### 缓解措施
- 完善的错误处理和降级机制
- 渐进式集成，逐步添加功能
- 监控和日志记录API调用状态

## Migration Plan
1. 第一阶段：集成高德MCP基础服务
2. 第二阶段：实现POI数据获取和展示
3. 第三阶段：UI重构为tab切换
4. 第四阶段：数据融合和优化
5. 第五阶段：测试和性能优化

## Open Questions
- 高德MCP的具体API接口和数据格式？
- 如何处理大量POI数据的性能问题？
- 是否需要实现数据缓存策略？