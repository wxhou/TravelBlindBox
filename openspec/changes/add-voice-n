## 背景
语音解说功能需要集成TTS服务到现有的React旅行盲盒应用中，涉及UI组件更新、状态管理和外部服务集成。

## 目标 / 非目标
- 目标: 实现自动语音解说功能，提升用户体验
- 目标: 支持路线切换时的自动解说内容更新  
- 目标: 提供直观的语音控制界面
- 非目标: 不实现语音识别功能
- 非目标: 不支持多语言解说（仅中文）

## 决策
- **决策**: 使用Web Speech API作为主要TTS解决方案
- **替代方案**: Edge TTS、Azure Speech Services、其他开源TTS库
- **理由**: Web Speech API是浏览器原生API，无需额外依赖，兼容性好，免费使用，支持中文语音合成

- **决策**: 在BlindBoxReveal组件内集成语音控制按钮
- **替代方案**: 创建独立的语音控制组件、在全局添加控制
- **理由**: 语音解说功能与惊喜揭晓页面紧密相关，局部集成更符合用户使用场景

- **决策**: 实现文本到语音的动态生成
- **替代方案**: 预录制音频文件、静态文本模板
- **理由**: 动态生成可以根据具体路线内容生成个性化解说，提供更好的用户体验

## 风险 / 权衡
- **风险**: 浏览器兼容性问题 → 缓解：提供降级方案，检测API可用性
- **风险**: TTS服务性能影响 → 缓解：异步处理，不阻塞UI渲染
- **权衡**: 功能丰富性 vs 实现复杂度 → 选择适中的功能范围，确保核心体验

## 迁移计划
1. 添加TTS服务模块，实现基础语音合成功能
2. 更新BlindBoxReveal组件，集成语音控制UI
3. 实现路线切换时的解说内容更新逻辑
4. 添加错误处理和降级机制
5. 测试各浏览器兼容性

## 待解决问题
- 需要确定具体的TTS语音参数（语速、音调等）
- 需要设计解说文本的生成模板
- 需要处理语音播放的暂停/继续逻辑