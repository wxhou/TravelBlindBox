# 项目上下文

## Purpose
打造一个智能旅行路线规划平台，通过AI技术根据用户输入的具体参数（如出发时间、预算、目的地偏好、旅行天数等），自动生成三条个性化旅行路线，帮助用户轻松规划完美旅程，实现从输入到详细行程的智能化闭环体验。

## 技术栈
- React 19.0.0+：核心前端框架，用于构建用户界面
- TypeScript 5.2+：提供静态类型检查，增强代码质量和可维护性
- Vite 5.2.0+：现代化构建工具，提供快速的开发服务器和优化的打包功能
- Tailwind CSS：实用优先的CSS框架，用于快速构建自定义用户界面
- UI组件库：Lucide React、Radix UI等组件库（按需集成）
- 数据可视化：Recharts、Chart.js等图表库（按需集成）
- 包管理器：npm或yarn，用于依赖管理
- 代码质量：ESLint + Prettier，用于代码检查和格式化

## 项目约定

### 代码风格
- 使用函数式组件和Hooks，遵循React最佳实践
- 充分利用TypeScript的类型检查能力，定义完整的接口用于类型安全
- 保持一致的代码风格和命名约定（驼峰命名法，组件使用PascalCase，函数使用camelCase）
- 使用ESLint和Prettier进行代码格式化和质量检查
- 组件文件使用.tsx后缀，工具函数使用.ts后缀
- 文件和文件夹命名使用kebab-case，组件文件夹使用PascalCase
- 导出默认组件时使用与文件名相同的命名

### 架构模式
- 无服务器架构：项目不包含传统后端，完全通过API调用外部服务
- 组件化开发：使用React组件化架构，提高代码复用性和可维护性
- 状态管理：使用React Context或Redux Toolkit进行全局状态管理
- API集成：通过RESTful API或GraphQL与外部服务通信
- 文件结构：按功能模块组织目录结构（components/、services/、utils/等）

### 测试策略
- 单元测试：使用Jest和React Testing Library对组件和工具函数进行单元测试
- 集成测试：测试组件间的交互和API调用
- E2E测试：使用Playwright进行端到端测试（可选）
- 测试覆盖率：目标覆盖率80%以上，重点覆盖核心业务逻辑
- 测试命名：遵循Given-When-Then模式，测试文件位置与源文件对应
- 测试命令：`npm test`运行单元测试，`npm run test:e2e`运行E2E测试
- CI/CD：通过GitHub Actions自动运行测试，确保代码质量

### Git 工作流
- 主分支：main分支作为生产分支
- 开发分支：feature/分支用于新功能开发，hotfix/分支用于紧急修复
- 提交规范：使用Conventional Commits格式（feat:新功能、fix:修复、docs:文档等）
- 代码审查：本地开发时通过结对编程或代码走查确保质量，重点检查代码质量、测试覆盖和规范一致性
- 分支命名：feature/功能名、bugfix/问题描述、hotfix/紧急修复
- 合并策略：功能开发完成后合并到main分支
- 冲突解决：优先使用rebase解决冲突，保持提交历史整洁

## 领域上下文
- 旅行规划领域：理解用户输入参数（出发时间、预算范围、目的地偏好、旅行天数、交通方式偏好）、行程时间安排、交通方式选择、景点推荐算法等概念
- AI生成内容：熟悉大模型生成三条个性化旅行路线的内容特点、准确性和时效性限制
- 用户体验：注重路线展示的详细程度（行程表按天划分、预计花费明细、亮点推荐）、直观性和易用性，平衡探索未知与可控性
- 数据验证：确保生成路线的合理性、实用性和文化适应性，验证预算分配和时间安排的合理性
- 业务规则：考虑季节性、预算分配、交通便利性、安全性等旅行规划关键因素，支持多条路线比较选择

## 重要约束
- 无数据库约束：不能使用传统数据库，所有数据通过在线服务实时获取
- 无后端约束：不能搭建后端服务，完全依赖外部API调用
- 无持久化存储：不能在本地或服务器上持久化用户数据，页面刷新即丢失
- 性能约束：AI生成响应时间控制在10秒以内，页面加载时间<3秒
- 安全约束：用户数据需脱敏处理，避免敏感信息泄露
- 架构约束：纯前端应用，使用无服务器架构和CDN部署
- 缓存策略：仅使用浏览器缓存，不使用服务端缓存或本地存储

## 外部依赖
- 在线大模型服务：用于AI生成旅行路线、行程描述和个性化推荐
- MCP服务：用于数据获取、处理和API调用协调
- 大模型API：如OpenAI GPT、Claude等，用于自然语言处理和内容生成
- 地图服务API：用于路线展示、地理信息查询和路线规划（可选）
- 天气API：用于行程规划参考和天气信息获取（可选）
- 位置服务API：用于地理编码和地点搜索（可选）
